{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nlet UpdateProfileComponent = class UpdateProfileComponent {\n  constructor(formBuilder, service, router, act) {\n    this.formBuilder = formBuilder;\n    this.service = service;\n    this.router = router;\n    this.act = act;\n    this.RegisterForm = new FormGroup({\n      nomUtilisateur: new FormControl('', [Validators.required, Validators.minLength(3)]),\n      prenomUtilisateur: new FormControl('', [Validators.required, Validators.minLength(3)]),\n      email: new FormControl('', [Validators.required, Validators.email]),\n      motDePasse: new FormControl('', [Validators.required, Validators.minLength(8), Validators.pattern('^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9]).*$')]),\n      numTel: new FormControl('', [Validators.required, Validators.pattern('[0-9]{8}')]),\n      role: new FormControl('', [Validators.required]),\n      interet: new FormControl('', [Validators.required])\n    });\n  }\n  persistUser() {\n    if (this.RegisterForm.valid) {\n      const formData = this.RegisterForm.value;\n      const UserData = {\n        nomUtilisateur: formData.nomUtilisateur,\n        prenomUtilisateur: formData.prenomUtilisateur,\n        email: formData.email,\n        numTel: formData.numTel,\n        motDePasse: formData.motDePasse,\n        role: formData.role,\n        interet: formData.interet\n      };\n      this.service.ajouterUser(UserData).subscribe(response => {\n        this.router.navigate(['login']);\n        console.log('Utilisateur ajoutée avec succès :', response);\n        // Optionally, provide feedback to the user that registration was successful\n      }, error => {\n        console.error('Erreur lors de l\\'ajout de l\\'utilisateur :', error);\n        // Check the error status and handle it appropriately\n        if (error.status === 400) {\n          // Bad request error, handle validation errors or other issues\n          // You can access error.error to get the detailed error message from the server\n          // Provide feedback to the user about the error\n        } else {\n          // Handle other types of errors (e.g., server down, network error)\n          // Provide appropriate feedback to the user\n        }\n      });\n    }\n  }\n  ngOnInit() {\n    this.id = this.act.snapshot.params['id'];\n    //4- recuperation du produit par id\n    this.consP.getProductById(this.id).subscribe(data => {\n      this.product = data,\n      //5- remplir le formulaire par les données du produit\n      this.RegisterForm.patchValue(this.product);\n    });\n  }\n};\nUpdateProfileComponent = __decorate([Component({\n  selector: 'app-update-profile',\n  templateUrl: './update-profile.component.html',\n  styleUrls: ['./update-profile.component.css']\n})], UpdateProfileComponent);\nexport { UpdateProfileComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAASC,WAAW,EAAEC,SAAS,EAAEC,UAAU,QAAqB,gBAAgB;AAUzE,IAAMC,sBAAsB,GAA5B,MAAMA,sBAAsB;EAClCC,YAAoBC,WAAwB,EAAUC,OAAoB,EAAUC,MAAa,EAASC,GAAmB;IAAzG,gBAAW,GAAXH,WAAW;IAAuB,YAAO,GAAPC,OAAO;IAAuB,WAAM,GAANC,MAAM;IAAgB,QAAG,GAAHC,GAAG;IAG1G,iBAAY,GAAG,IAAIP,SAAS,CAAC;MAC3BQ,cAAc,EAAE,IAAIT,WAAW,CAAC,EAAE,EAAE,CAACE,UAAU,CAACQ,QAAQ,EAAER,UAAU,CAACS,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MACnFC,iBAAiB,EAAE,IAAIZ,WAAW,CAAC,EAAE,EAAE,CAACE,UAAU,CAACQ,QAAQ,EAAER,UAAU,CAACS,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MACtFE,KAAK,EAAE,IAAIb,WAAW,CAAC,EAAE,EAAE,CAACE,UAAU,CAACQ,QAAQ,EAAER,UAAU,CAACW,KAAK,CAAC,CAAC;MACnEC,UAAU,EAAE,IAAId,WAAW,CAAC,EAAE,EAAE,CAACE,UAAU,CAACQ,QAAQ,EAAER,UAAU,CAACS,SAAS,CAAC,CAAC,CAAC,EAC1ET,UAAU,CAACa,OAAO,CAAC,uCAAuC,CAAC,CAAC,CAAC;MAChEC,MAAM,EAAE,IAAIhB,WAAW,CAAC,EAAE,EAAE,CAACE,UAAU,CAACQ,QAAQ,EAAER,UAAU,CAACa,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;MAClFE,IAAI,EAAE,IAAIjB,WAAW,CAAC,EAAE,EAAE,CAACE,UAAU,CAACQ,QAAQ,CAAC,CAAC;MAChDQ,OAAO,EAAE,IAAIlB,WAAW,CAAC,EAAE,EAAE,CAACE,UAAU,CAACQ,QAAQ,CAAC;KACnD,CAAC;EAZ4H;EAc9HS,WAAW;IACT,IAAI,IAAI,CAACC,YAAY,CAACC,KAAK,EAAE;MAC3B,MAAMC,QAAQ,GAAG,IAAI,CAACF,YAAY,CAACG,KAAK;MACxC,MAAMC,QAAQ,GAAQ;QACpBf,cAAc,EAAEa,QAAQ,CAACb,cAAc;QACvCG,iBAAiB,EAAEU,QAAQ,CAACV,iBAAiB;QAC7CC,KAAK,EAAES,QAAQ,CAACT,KAAK;QACrBG,MAAM,EAAEM,QAAQ,CAACN,MAAM;QACvBF,UAAU,EAAEQ,QAAQ,CAACR,UAAU;QAC/BG,IAAI,EAACK,QAAQ,CAACL,IAAI;QAClBC,OAAO,EAACI,QAAQ,CAACJ;OAClB;MAED,IAAI,CAACZ,OAAO,CAACmB,WAAW,CAACD,QAAQ,CAAC,CAACE,SAAS,CACzCC,QAAQ,IAAI;QAEX,IAAI,CAACpB,MAAM,CAACqB,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;QAE/BC,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAEH,QAAQ,CAAC;QAC1D;MACF,CAAC,EACAI,KAAwB,IAAI;QAC3BF,OAAO,CAACE,KAAK,CAAC,6CAA6C,EAAEA,KAAK,CAAC;QACnE;QACA,IAAIA,KAAK,CAACC,MAAM,KAAK,GAAG,EAAE;UACxB;UACA;UACA;QAAA,CACD,MAAM;UACL;UACA;QAAA;MAEJ,CAAC,CACF;;EAEL;EAEAC,QAAQ;IACN,IAAI,CAACC,EAAE,GAAC,IAAI,CAAC1B,GAAG,CAAC2B,QAAQ,CAACC,MAAM,CAAC,IAAI,CAAC;IACtC;IACA,IAAI,CAACC,KAAK,CAACC,cAAc,CAAC,IAAI,CAACJ,EAAE,CAAC,CAACR,SAAS,CACzCa,IAAI,IAAG;MACN,IAAI,CAACC,OAAO,GAACD,IAAI;MACjB;MACA,IAAI,CAACnB,YAAY,CAACqB,UAAU,CAAC,IAAI,CAACD,OAAc,CAAC;IACnD,CAAC,CACF;EACH;CAED;AAhEUrC,sBAAsB,eALlCJ,SAAS,CAAC;EACT2C,QAAQ,EAAE,oBAAoB;EAC9BC,WAAW,EAAE,iCAAiC;EAC9CC,SAAS,EAAE,CAAC,gCAAgC;CAC7C,CAAC,GACWzC,sBAAsB,CAgEhC;SAhEUA,sBAAsB","names":["Component","FormControl","FormGroup","Validators","UpdateProfileComponent","constructor","formBuilder","service","router","act","nomUtilisateur","required","minLength","prenomUtilisateur","email","motDePasse","pattern","numTel","role","interet","persistUser","RegisterForm","valid","formData","value","UserData","ajouterUser","subscribe","response","navigate","console","log","error","status","ngOnInit","id","snapshot","params","consP","getProductById","data","product","patchValue","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["E:\\1ESPRIT\\pi\\front\\pi-angular\\src\\app\\update-profile\\update-profile.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators, FormBuilder } from '@angular/forms';\nimport { UserService } from 'src/app/services/User.service';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { Role, User } from '../model/User';\nimport { Router } from '@angular/router';\n@Component({\n  selector: 'app-update-profile',\n  templateUrl: './update-profile.component.html',\n  styleUrls: ['./update-profile.component.css']\n})\nexport class UpdateProfileComponent {\n constructor(private formBuilder: FormBuilder, private service: UserService, private router:Router,private act :ActivatedRoute) { }\n    listUser!: User[];\n    id!:number;\n    RegisterForm = new FormGroup({\n      nomUtilisateur: new FormControl('', [Validators.required, Validators.minLength(3)]),\n      prenomUtilisateur: new FormControl('', [Validators.required, Validators.minLength(3)]),\n      email: new FormControl('', [Validators.required, Validators.email]),\n      motDePasse: new FormControl('', [Validators.required, Validators.minLength(8),\n         Validators.pattern('^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9]).*$')]),\n      numTel: new FormControl('', [Validators.required, Validators.pattern('[0-9]{8}')]),\n      role: new FormControl('', [Validators.required]),\n      interet: new FormControl('', [Validators.required]),\n    });\n  \n    persistUser() {\n      if (this.RegisterForm.valid) {\n        const formData = this.RegisterForm.value;\n        const UserData: any = {\n          nomUtilisateur: formData.nomUtilisateur,\n          prenomUtilisateur: formData.prenomUtilisateur,\n          email: formData.email,\n          numTel: formData.numTel,\n          motDePasse: formData.motDePasse,\n          role:formData.role,\n          interet:formData.interet,\n        };\n  \n        this.service.ajouterUser(UserData).subscribe(\n          (response) => {\n  \n            this.router.navigate(['login'])\n  \n            console.log('Utilisateur ajoutée avec succès :', response);\n            // Optionally, provide feedback to the user that registration was successful\n          },\n          (error: HttpErrorResponse) => {\n            console.error('Erreur lors de l\\'ajout de l\\'utilisateur :', error);\n            // Check the error status and handle it appropriately\n            if (error.status === 400) {\n              // Bad request error, handle validation errors or other issues\n              // You can access error.error to get the detailed error message from the server\n              // Provide feedback to the user about the error\n            } else {\n              // Handle other types of errors (e.g., server down, network error)\n              // Provide appropriate feedback to the user\n            }\n          }\n        );\n      }\n    }\n  \n    ngOnInit(): void {\n      this.id=this.act.snapshot.params['id'];\n      //4- recuperation du produit par id\n      this.consP.getProductById(this.id).subscribe(\n        (data)=>{\n          this.product=data,\n          //5- remplir le formulaire par les données du produit\n          this.RegisterForm.patchValue(this.product as any)\n        }\n      )\n    }\n  \n  }\n  \n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}