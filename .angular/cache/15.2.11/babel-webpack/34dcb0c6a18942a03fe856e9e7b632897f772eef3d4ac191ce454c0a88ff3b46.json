{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { WebSocketSubject } from 'rxjs/webSocket';\nlet IAComponent = class IAComponent {\n  constructor() {\n    this.cameraUrl = '';\n    this.reply = '';\n    this._channel = new WebSocketSubject('ws://192.168.1.190:4000/');\n  }\n  sendUrlToPython() {\n    if (this.cameraUrl !== '') {\n      const dataToSend = {\n        url: this.cameraUrl\n      };\n      this._channel.next(JSON.stringify(dataToSend));\n    }\n    this._channel.subscribe(data => {\n      try {\n        if (data.status === \"connected\") {\n          this.reply = \"Connected!\";\n          console.log(this.reply);\n        } else if (data.status === \"disconnected\") {\n          this.reply = \"Disconnected!\";\n          console.log(this.reply);\n        } else if (data.count !== undefined) {\n          this.reply = `Count: ${data.count}`;\n          console.log(this.reply);\n        }\n      } catch (error) {\n        console.error('Error processing data:', error);\n        console.log('Received data:', data); // Afficher le contenu reçu pour le débogage\n      }\n    }, error => {\n      console.error('WebSocket error:', error);\n    });\n  }\n};\nIAComponent = __decorate([Component({\n  selector: 'app-ia',\n  templateUrl: './ia.component.html',\n  styleUrls: ['./ia.component.css']\n})], IAComponent);\nexport { IAComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAmB,eAAe;AACpD,SAASC,gBAAgB,QAAQ,gBAAgB;AAM1C,IAAMC,WAAW,GAAjB,MAAMA,WAAW;EAAjBC;IACL,cAAS,GAAW,EAAE;IACtB,UAAK,GAAW,EAAE;IACV,aAAQ,GAA0B,IAAIF,gBAAgB,CAAM,0BAA0B,CAAC;EAqCjG;EAjCEG,eAAe;IAEb,IAAI,IAAI,CAACC,SAAS,KAAK,EAAE,EAAE;MACzB,MAAMC,UAAU,GAAG;QAAEC,GAAG,EAAE,IAAI,CAACF;MAAS,CAAE;MAC1C,IAAI,CAACG,QAAQ,CAACC,IAAI,CAACC,IAAI,CAACC,SAAS,CAACL,UAAU,CAAC,CAAC;;IAGhD,IAAI,CAACE,QAAQ,CAACI,SAAS,CACpBC,IAAI,IAAI;MACP,IAAI;QACF,IAAIA,IAAI,CAACC,MAAM,KAAK,WAAW,EAAE;UAC/B,IAAI,CAACC,KAAK,GAAG,YAAY;UACzBC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACF,KAAK,CAAC;SACxB,MAAM,IAAIF,IAAI,CAACC,MAAM,KAAK,cAAc,EAAE;UACzC,IAAI,CAACC,KAAK,GAAG,eAAe;UAC5BC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACF,KAAK,CAAC;SACxB,MAAM,IAAIF,IAAI,CAACK,KAAK,KAAKC,SAAS,EAAE;UACnC,IAAI,CAACJ,KAAK,GAAG,UAAUF,IAAI,CAACK,KAAK,EAAE;UACnCF,OAAO,CAACC,GAAG,CAAC,IAAI,CAACF,KAAK,CAAC;;OAE1B,CAAC,OAAOK,KAAK,EAAE;QACdJ,OAAO,CAACI,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;QAC9CJ,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEJ,IAAI,CAAC,CAAC,CAAC;;IAEzC,CAAC,EACAO,KAAK,IAAI;MACRJ,OAAO,CAACI,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;IAC1C,CAAC,CACF;EAIH;CACD;AAxCYlB,WAAW,eALvBF,SAAS,CAAC;EACTqB,QAAQ,EAAE,QAAQ;EAClBC,WAAW,EAAE,qBAAqB;EAClCC,SAAS,EAAE,CAAC,oBAAoB;CACjC,CAAC,GACWrB,WAAW,CAwCvB;SAxCYA,WAAW","names":["Component","WebSocketSubject","IAComponent","constructor","sendUrlToPython","cameraUrl","dataToSend","url","_channel","next","JSON","stringify","subscribe","data","status","reply","console","log","count","undefined","error","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["E:\\1ESPRIT\\pi\\front\\pi-angular\\src\\app\\ia\\ia.component.ts"],"sourcesContent":["import { Component, OnDestroy } from '@angular/core';\nimport { WebSocketSubject } from 'rxjs/webSocket';\n@Component({\n  selector: 'app-ia',\n  templateUrl: './ia.component.html',\n  styleUrls: ['./ia.component.css']\n})\nexport class IAComponent  {\n  cameraUrl: string = '';\n  reply: string = '';\n  private _channel: WebSocketSubject<any> = new WebSocketSubject<any>('ws://192.168.1.190:4000/');\n\n\n\n  sendUrlToPython() {\n   \n    if (this.cameraUrl !== '') {\n      const dataToSend = { url: this.cameraUrl };\n      this._channel.next(JSON.stringify(dataToSend));\n    }\n    \n    this._channel.subscribe(\n      (data) => {\n        try {\n          if (data.status === \"connected\") {\n            this.reply = \"Connected!\";\n            console.log(this.reply);\n          } else if (data.status === \"disconnected\") {\n            this.reply = \"Disconnected!\";\n            console.log(this.reply);\n          } else if (data.count !== undefined) {\n            this.reply = `Count: ${data.count}`;\n            console.log(this.reply);\n          }\n        } catch (error) {\n          console.error('Error processing data:', error);\n          console.log('Received data:', data); // Afficher le contenu reçu pour le débogage\n        }\n      },\n      (error) => {\n        console.error('WebSocket error:', error);\n      }\n    );\n    \n    \n\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}