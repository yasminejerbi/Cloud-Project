{"ast":null,"code":"import { HttpHeaders } from \"@angular/common/http\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nconst httpOptions = {\n  headers: new HttpHeaders({\n    'Content-Type': 'application/json',\n    'Access-Control-Allow-Origin': 'http://localhost:4200'\n  })\n};\nexport class UserService {\n  constructor(http) {\n    this.http = http;\n    this.ajouterurl = 'http://localhost:9000/pi/utilisateur/ajout';\n    this.verifyEmailUrl = 'http://localhost:9000/pi/utilisateur/verify-email';\n  }\n  static #_ = this.ɵfac = function UserService_Factory(t) {\n    return new (t || UserService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: UserService,\n    factory: UserService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"mappings":"AACA,SAAmBA,WAAW,QAA0B,sBAAsB;;;AAK9E,MAAMC,WAAW,GAAG;EAClBC,OAAO,EAAE,IAAIF,WAAW,CAAC;IAAE,cAAc,EAAE,kBAAkB;IAAE,6BAA6B,EAAE;EAAuB,CAAC;CACvH;AAID,OAAM,MAAOG,WAAW;EAGtBC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IAFhB,eAAU,GAAE,4CAA4C;IAIxD,mBAAc,GAAG,mDAAmD;EAFpC;EAAC;qBAH9BF,WAAW;EAAA;EAAA;WAAXA,WAAW;IAAAG,SAAXH,WAAW;IAAAI,YAFV;EAAM","names":["HttpHeaders","httpOptions","headers","UserService","constructor","http","factory","providedIn"],"sourceRoot":"","sources":["E:\\1ESPRIT\\pi\\front\\pi-angular\\src\\app\\services\\User.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport {HttpClient,HttpHeaders, HttpErrorResponse} from \"@angular/common/http\";\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { User } from 'src/app/model/User';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' ,'Access-Control-Allow-Origin': 'http://localhost:4200'})\r\n};\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserService {\r\n  private ajouterurl ='http://localhost:9000/pi/utilisateur/ajout';\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  private verifyEmailUrl = 'http://localhost:9000/pi/utilisateur/verify-email'\r\n   /*ajouterUser(User: User): Observable<User> {\r\n    return this.http.post<User>(this.ajouterurl, User, httpOptions);\r\n  }\r\n  getAll(){\r\n    return this.http.get<User[]>('http://localhost:9000/pi/utilisateur/getAll')\r\n  }\r\n  getUserById(id:number){\r\n    return this.http.get<User>('http://localhost:9000/pi/utilisateur/getUtilisateurId/'+id)\r\n  }\r\n  recupererMDP(email:String,numTel:String){\r\n    return this.http.get<number>('http://localhost:9000/pi/utilisateur/mdp/'+email+'/'+numTel)\r\n  }\r\n  updateUser(user:User){\r\n    return this.http.put('http://localhost:9000/pi/utilisateur/updateUtilisateur',user)\r\n  }\r\n  verifyEmail(email: string): Observable<any> {\r\n    return this.http.post<any>(this.verifyEmailUrl, { email }, httpOptions);\r\n  }\r\n  createEvent(event: events, image: File | null): Observable<any> {\r\n    const formData = new FormData();\r\n    formData.append('nomEvenement', event.nomEvenement);\r\n    formData.append('lieuEvenement', event.lieuEvenement);\r\n    formData.append('actionEvenement', event.actionEvenement);\r\n    formData.append('dateDebut', event.dateDebut.toString());\r\n    formData.append('dateFin', event.dateFin.toString());\r\n    formData.append('numPlaces', event.numPlaces.toString());\r\n    formData.append('eventType', event.eventType.toString()); // Assuming eventType is of type Event_type\r\n\r\n    //formData.append('image', image, image.name);\r\n    if (image) {\r\n      formData.append('photo', image, image.name);\r\n  }\r\n    const options = {\r\n        headers: new HttpHeaders()\r\n            // Uncomment below line if needed\r\n            // .set('Content-Type', 'multipart/form-data')\r\n    };\r\n\r\n    return this.http.post<any>(`${this.apiUrl}/addEvent`, formData, options);\r\n  }\r\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}