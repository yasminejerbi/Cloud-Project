{"ast":null,"code":"// import { Component } from '@angular/core';\n// import { User } from '../model/User';\n// import { UserService } from 'src/app/services/User.service';\n// import { HttpErrorResponse } from '@angular/common/http';\n// import { Router } from '@angular/router';\nimport { __decorate } from \"tslib\";\n// @Component({\n//   selector: 'app-login',\n//   templateUrl: './login.component.html',\n//   styleUrls: ['./login.component.css']\n// })\n// export class LoginComponent {\n//   constructor( private service: UserService, private router:Router) { }\n//   listUser!: User[];\n//   email!:string;\n//   motDePasse!:string;\n//   login(){\n//    // console.log(this.email);\n//     //console.log(this.motDePasse);\n//     let i=0;\n//     let test=false;\n//     while((i < this.listUser.length)&&(test==false)){\n//       if(this.listUser[i].email==this.email&&this.listUser[i].motDePasse==this.motDePasse){\n//         test=true\n//       }\n//       else i++;\n//     }\n//    // console.log(test);\n//    if(test==false||this.email==\"\"||this.motDePasse==\"\"){\n//     alert(\"your email or password is invalid\");\n//    }\n//    else{\n//     this.router.navigate(['profile',this.listUser[i].id])\n//    }\n//   }\n//  ngOnInit(){\n//      this.service.getAll().subscribe(\n//        { next: (data) => this.listUser=data,\n//          error: (err) => console.log(err),\n//          complete: () => console.log('done')\n//        });\n//    }\n// }\nimport { Component } from '@angular/core';\nlet LoginComponent = class LoginComponent {\n  constructor(service, router, authService) {\n    this.service = service;\n    this.router = router;\n    this.authService = authService;\n  }\n  login() {\n    let i = 0;\n    let test = false;\n    while (i < this.listUser.length && test == false) {\n      if (this.listUser[i].email == this.email && this.listUser[i].motDePasse == this.motDePasse) {\n        test = true;\n      } else i++;\n    }\n    if (test == false || this.email == \"\" || this.motDePasse == \"\") {\n      alert(\"your email or password is invalid\");\n    } else {\n      this.authService.setLoggedIn(true); // Notification de connexion réussie\n      this.router.navigate(['profile', this.listUser[i].id]);\n    }\n  }\n  ngOnInit() {\n    this.service.getAll().subscribe({\n      next: data => this.listUser = data,\n      error: err => console.log(err),\n      complete: () => console.log('done')\n    });\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);\nexport { LoginComponent };","map":{"version":3,"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA,SAASA,SAAS,QAAQ,eAAe;AAYlC,IAAMC,cAAc,GAApB,MAAMA,cAAc;EACzBC,YAAqBC,OAAoB,EAAUC,MAAa,EAAUC,WAAwB;IAA7E,YAAO,GAAPF,OAAO;IAAuB,WAAM,GAANC,MAAM;IAAiB,gBAAW,GAAXC,WAAW;EAAiB;EAKtGC,KAAK;IACH,IAAIC,CAAC,GAAC,CAAC;IACP,IAAIC,IAAI,GAAC,KAAK;IACd,OAAOD,CAAC,GAAG,IAAI,CAACE,QAAQ,CAACC,MAAM,IAAIF,IAAI,IAAE,KAAM,EAAC;MAC9C,IAAG,IAAI,CAACC,QAAQ,CAACF,CAAC,CAAC,CAACI,KAAK,IAAE,IAAI,CAACA,KAAK,IAAE,IAAI,CAACF,QAAQ,CAACF,CAAC,CAAC,CAACK,UAAU,IAAE,IAAI,CAACA,UAAU,EAAC;QAClFJ,IAAI,GAAC,IAAI;OACV,MACID,CAAC,EAAE;;IAEV,IAAGC,IAAI,IAAE,KAAK,IAAE,IAAI,CAACG,KAAK,IAAE,EAAE,IAAE,IAAI,CAACC,UAAU,IAAE,EAAE,EAAC;MAClDC,KAAK,CAAC,mCAAmC,CAAC;KAC3C,MACG;MACF,IAAI,CAACR,WAAW,CAACS,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC;MACpC,IAAI,CAACV,MAAM,CAACW,QAAQ,CAAC,CAAC,SAAS,EAAC,IAAI,CAACN,QAAQ,CAACF,CAAC,CAAC,CAACS,EAAE,CAAC,CAAC;;EAEzD;EAEDC,QAAQ;IACJ,IAAI,CAACd,OAAO,CAACe,MAAM,EAAE,CAACC,SAAS,CAC7B;MAAEC,IAAI,EAAGC,IAAI,IAAK,IAAI,CAACZ,QAAQ,GAACY,IAAI;MAClCC,KAAK,EAAGC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChCG,QAAQ,EAAE,MAAMF,OAAO,CAACC,GAAG,CAAC,MAAM;KACnC,CAAC;EAEN;CACF;AAhCYxB,cAAc,eAL1BD,SAAS,CAAC;EACT2B,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACW5B,cAAc,CAgC1B;SAhCYA,cAAc","names":["Component","LoginComponent","constructor","service","router","authService","login","i","test","listUser","length","email","motDePasse","alert","setLoggedIn","navigate","id","ngOnInit","getAll","subscribe","next","data","error","err","console","log","complete","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["E:\\1ESPRIT\\pi\\front\\pi-angular\\src\\app\\login\\login.component.ts"],"sourcesContent":["// import { Component } from '@angular/core';\n// import { User } from '../model/User';\n// import { UserService } from 'src/app/services/User.service';\n// import { HttpErrorResponse } from '@angular/common/http';\n// import { Router } from '@angular/router';\n\n// @Component({\n//   selector: 'app-login',\n//   templateUrl: './login.component.html',\n//   styleUrls: ['./login.component.css']\n// })\n// export class LoginComponent {\n//   constructor( private service: UserService, private router:Router) { }\n//   listUser!: User[];\n\n//   email!:string;\n//   motDePasse!:string;\n//   login(){\n//    // console.log(this.email);\n//     //console.log(this.motDePasse);\n//     let i=0;\n//     let test=false;\n//     while((i < this.listUser.length)&&(test==false)){\n//       if(this.listUser[i].email==this.email&&this.listUser[i].motDePasse==this.motDePasse){\n//         test=true\n//       }\n//       else i++;\n//     }\n//    // console.log(test);\n//    if(test==false||this.email==\"\"||this.motDePasse==\"\"){\n\n//     alert(\"your email or password is invalid\");\n//    }\n//    else{\n//     this.router.navigate(['profile',this.listUser[i].id])\n//    }\n//   }\n  \n//  ngOnInit(){\n//      this.service.getAll().subscribe(\n//        { next: (data) => this.listUser=data,\n//          error: (err) => console.log(err),\n//          complete: () => console.log('done')\n//        });\n    \n//    }\n   \n// }\nimport { Component } from '@angular/core';\nimport { User } from '../model/User';\nimport { UserService } from 'src/app/services/User.service';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../services/auth.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  constructor( private service: UserService, private router:Router, private authService: AuthService) { }\n  listUser!: User[];\n\n  email!:string;\n  motDePasse!:string;\n  login(){\n    let i=0;\n    let test=false;\n    while((i < this.listUser.length)&&(test==false)){\n      if(this.listUser[i].email==this.email&&this.listUser[i].motDePasse==this.motDePasse){\n        test=true\n      }\n      else i++;\n    }\n    if(test==false||this.email==\"\"||this.motDePasse==\"\"){\n      alert(\"your email or password is invalid\");\n    }\n    else{\n      this.authService.setLoggedIn(true); // Notification de connexion réussie\n      this.router.navigate(['profile',this.listUser[i].id])\n    }\n  }\n  \n ngOnInit(){\n     this.service.getAll().subscribe(\n       { next: (data) => this.listUser=data,\n         error: (err) => console.log(err),\n         complete: () => console.log('done')\n       });\n    \n   }   \n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}